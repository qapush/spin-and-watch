(()=>{"use strict";let e=document.querySelector(".sidebar");function t(){document.documentElement.style.setProperty("--margin-left",e.offsetWidth-1+"px")}e.querySelector(".sidebar-content").style.setProperty("--height-sidebar",.01*window.innerHeight+"px"),window.addEventListener("resize",t),t();const o=document.querySelector(".header"),n=document.querySelector(".main");function s(){let e=document.documentElement.clientHeight-o.offsetHeight;n.style.setProperty("--margin-top",o.offsetHeight-3+"px"),n.style.setProperty("--height",`${e}px`)}function c(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}window.addEventListener("resize",s),s(),window.addEventListener("resize",c),c();const i=document.querySelector(".burger"),r=document.querySelector(".nav");i.addEventListener("click",(function(){i.classList.toggle("active"),r.classList.toggle("active")})),document.querySelectorAll(".nav-item").forEach((e=>{e.addEventListener("click",(function(){e.closest("nav")&&(i.classList.remove("active"),r.classList.remove("active"))}))}));const l=document.querySelectorAll("section"),d=document.querySelectorAll(".nav-link");for(let v=0;v<l.length;v++)window.addEventListener("scroll",(function(){let e=window.pageYOffset+document.documentElement.clientHeight,t=l[v].offsetTop,o=l[v].offsetTop+l[v].offsetHeight;e>=t&&e<=o&&d.forEach((e=>{e.classList.remove("active"),e.getAttribute("href")===`#${l[v].id}`&&e.classList.add("active")})),e<l[0].offsetTop&&d.forEach((e=>{e.classList.remove("active")}))}));const u=document.querySelector(".popup"),a=document.querySelectorAll(".popup-close");function m(){u.querySelector(".popup-text"),u.classList.toggle("active"),document.body.classList.toggle("no-scroll")}function p(){this.closest(".popup").classList.remove("active"),document.body.classList.remove("no-scroll")}document.querySelectorAll(".open-popup").forEach((e=>{e.addEventListener("click",m)})),a.forEach((e=>{e.addEventListener("click",p)}));let f=document.querySelectorAll(".goods-item"),y=document.querySelector(".popup-portfolio"),h=document.querySelector(".popup-portfolio__content");if(f.forEach((e=>{e.addEventListener("click",(function(){if(h.innerHTML="",h.className=`popup-portfolio__content _${e.dataset.type}`,"360"===e.dataset.type){let t=document.createElement("script"),o=document.createElement("div");function n(){document.documentElement.clientWidth<768&&(h.style.height=h.offsetWidth+"px")}o.id="popup-orbitbu",h.insertAdjacentElement("beforeend",o),t.innerHTML=`\n                $(function() {\n                inject_orbitvu(\n                  'popup-orbitbu',\n                  '/assets/img/portfolio/360/orbitvu12/',\n                  '',\n                  {\n                    ovus_folder: "/assets/img/portfolio/360/presentations/${e.dataset.folder}",\n                    content2: "yes",\n                    width: "100%",\n                    height: "100%"\n                  });\n            });\n            `,h.insertAdjacentElement("beforebegin",t),window.addEventListener("resize",n),n()}else if("photo"===e.dataset.type){let s=document.createElement("img");function c(){document.documentElement.clientWidth>768?s.style.height=document.documentElement.clientHeight/1.5+"px":(s.style.width="100%",h.style.height="auto")}s.src=e.querySelector("img").getAttribute("src"),window.addEventListener("resize",c),c(),h.insertAdjacentElement("beforeend",s)}else{let i=document.createElement("iframe");function r(){document.documentElement.clientWidth<768&&(h.style.height=.5625*h.offsetWidth+"px")}i.src=`https://www.youtube.com/embed/${e.dataset.video}`,window.addEventListener("resize",r),r(),h.insertAdjacentElement("beforeend",i)}y.addEventListener("mousedown",(function(e){e.target.closest(".popup-portfolio__content")||(y.classList.remove("active"),document.body.classList.remove("no-scroll"))})),y.classList.add("active"),document.body.classList.add("no-scroll")}))})),document.querySelector("form.filter")){console.log(!!document.querySelector("form.filter")),console.log(document.querySelector(".goods"));let g=document.querySelectorAll(".filter-fields_type"),E=document.querySelectorAll(".goods-item"),L=document.querySelector(".goods"),S=document.querySelector(".filter-area"),b=[];g.forEach((e=>{e&&e.addEventListener("input",A)})),S&&S.addEventListener("input",A),E.forEach((e=>{b.push(e)}));let w="all",q="all";function A(e){let t=[];const{target:o}=e;b.forEach((e=>{"SELECT"===o.tagName&&(w=o.value),"INPUT"===o.tagName&&(q=o.value),"all"===w?e.dataset.type===q?t.push(e):"all"===q&&(t=b):"all"===q?e.dataset.sphere===w?t.push(e):"all"===w&&(t=b):e.dataset.type===q&&e.dataset.sphere===w&&t.push(e)})),_(t)}const H={dots:!0,infinite:!1,slidesPerRow:3,rows:2,prevArrow:".slick-prevmy",nextArrow:".slick-nextmy",swipe:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesPerRow:2,swipe:!0,rows:3}}]};function _(e){$(".goods").slick("unslick"),L.innerHTML="",document.createElement("div").className="goods-item",e.forEach((e=>{L.insertAdjacentElement("beforeend",e)})),$(".goods").slick(H),k()}function k(){document.querySelector(".slick-dots"),document.querySelector(".slick-next")}$(".goods").slick(H),k(),document.querySelector(".main-presentation"),document.querySelector(".popup-presentation"),document.querySelector("#popup-presentation_container")}if(jQuery((function(e){e(".mask-phone").mask("+48 999-999-999")})),new LazyLoad({elements_selector:".lazy"}),Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),document.querySelectorAll("form").length>0){function T(e){document.querySelector("form.submitted .form__status-message--success").style.display="block",setTimeout((()=>{document.querySelector("form.submitted .form__status-message--success").style.display="none",e.classList.remove("submitted")}),5e3),e.reset()}function x(e){document.querySelector("form.submitted .form__status-message--failure").style.display="block",setTimeout((()=>{document.querySelector("form.submitted .form__status-message--failure").style.display="none",e.classList.remove("submitted")}),5e3),e.reset()}document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();const o=new XMLHttpRequest;o.open("POST","/telegram.php");const n=new FormData(e);o.send(n);const s=document.createElement("div");s.innerHTML="<div></div><div></div><div></div><div></div>",s.classList.add("lds-ellipsis"),e.insertAdjacentElement("beforeend",s),e.classList.add("submitted"),o.addEventListener("load",(()=>{try{const t=JSON.parse(o.response).Status;200==o.status&&"Success"===t&&(T(e),s.remove())}catch{x(e),s.remove()}}))}))}))}})();