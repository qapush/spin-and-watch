(()=>{"use strict";let e=document.querySelector(".sidebar");function t(){document.documentElement.style.setProperty("--margin-left",e.offsetWidth-1+"px")}e.querySelector(".sidebar-content").style.setProperty("--height-sidebar",.01*window.innerHeight+"px"),window.addEventListener("resize",t),t();const o=document.querySelector(".header"),n=document.querySelector(".main");function s(){let e=document.documentElement.clientHeight-o.offsetHeight;n.style.setProperty("--margin-top",o.offsetHeight-3+"px"),n.style.setProperty("--height",`${e}px`)}function c(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}window.addEventListener("resize",s),s(),window.addEventListener("resize",c),c();const r=document.querySelector(".burger"),i=document.querySelector(".nav");r.addEventListener("click",(function(){r.classList.toggle("active"),i.classList.toggle("active")})),document.querySelectorAll(".nav-item").forEach((e=>{e.addEventListener("click",(function(){e.closest("nav")&&(r.classList.remove("active"),i.classList.remove("active"))}))}));const l=document.querySelectorAll("section"),d=document.querySelectorAll(".nav-link");for(let v=0;v<l.length;v++)window.addEventListener("scroll",(function(){let e=window.pageYOffset+document.documentElement.clientHeight,t=l[v].offsetTop,o=l[v].offsetTop+l[v].offsetHeight;e>=t&&e<=o&&d.forEach((e=>{e.classList.remove("active"),e.getAttribute("href")===`#${l[v].id}`&&e.classList.add("active")})),e<l[0].offsetTop&&d.forEach((e=>{e.classList.remove("active")}))}));const a=document.querySelector(".popup"),u=document.querySelectorAll(".popup-close");function m(){a.querySelector(".popup-text"),a.classList.toggle("active"),document.body.classList.toggle("no-scroll")}function p(){this.closest(".popup").classList.remove("active"),document.body.classList.remove("no-scroll")}document.querySelectorAll(".open-popup").forEach((e=>{e.addEventListener("click",m)})),u.forEach((e=>{e.addEventListener("click",p)}));let f=document.querySelectorAll(".goods-item"),y=document.querySelector(".popup-portfolio"),h=document.querySelector(".popup-portfolio__content");if(f.forEach((e=>{e.addEventListener("click",(function(){if(h.innerHTML="",h.className=`popup-portfolio__content _${e.dataset.type}`,"360"===e.dataset.type){let t=document.createElement("script"),o=document.createElement("div");function n(){document.documentElement.clientWidth<768&&(h.style.height=h.offsetWidth+"px")}o.id="popup-orbitbu",h.insertAdjacentElement("beforeend",o),t.innerHTML=`\n                $(function() {\n                inject_orbitvu(\n                  'popup-orbitbu',\n                  '/assets/img/portfolio/360/orbitvu12/',\n                  '',\n                  {\n                    ovus_folder: "/assets/img/portfolio/360/presentations/${e.dataset.folder}",\n                    content2: "yes",\n                    width: "100%",\n                    height: "100%"\n                  });\n            });\n            `,h.insertAdjacentElement("beforebegin",t),window.addEventListener("resize",n),n()}else if("photo"===e.dataset.type){let s=document.createElement("img");function c(){document.documentElement.clientWidth>768?s.style.height=document.documentElement.clientHeight/1.5+"px":(s.style.width="100%",h.style.height="auto")}s.src=e.querySelector("img").getAttribute("src"),window.addEventListener("resize",c),c(),h.insertAdjacentElement("beforeend",s)}else{let r=document.createElement("iframe");function i(){document.documentElement.clientWidth<768&&(h.style.height=.5625*h.offsetWidth+"px")}r.src=`https://www.youtube.com/embed/${e.dataset.video}`,window.addEventListener("resize",i),i(),h.insertAdjacentElement("beforeend",r)}y.addEventListener("mousedown",(function(e){e.target.closest(".popup-portfolio__content")||(y.classList.remove("active"),document.body.classList.remove("no-scroll"))})),y.classList.add("active"),document.body.classList.add("no-scroll")}))})),document.querySelector("form.filter")){let g=document.querySelectorAll(".filter-fields_type"),E=document.querySelectorAll(".goods-item"),L=document.querySelector(".goods"),b=document.querySelector(".filter-area"),S=[];g.forEach((e=>{e&&e.addEventListener("input",A)})),b&&b.addEventListener("input",A),E.forEach((e=>{S.push(e)}));let w="all",q="all";function A(e){let t=[];const{target:o}=e;S.forEach((e=>{"SELECT"===o.tagName&&(w=o.value),"INPUT"===o.tagName&&(q=o.value),"all"===w?e.dataset.type===q?t.push(e):"all"===q&&(t=S):"all"===q?e.dataset.sphere===w?t.push(e):"all"===w&&(t=S):e.dataset.type===q&&e.dataset.sphere===w&&t.push(e)})),H(t)}const k={dots:!0,infinite:!1,slidesPerRow:3,rows:2,prevArrow:".slick-prevmy",nextArrow:".slick-nextmy",swipe:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesPerRow:2,swipe:!0,rows:3}}]};function H(e){$(".goods").slick("unslick"),L.innerHTML="",document.createElement("div").className="goods-item",e.forEach((e=>{L.insertAdjacentElement("beforeend",e)})),$(".goods").slick(k),_()}function _(){document.querySelector(".slick-dots"),document.querySelector(".slick-next")}$(".goods").slick(k),_(),document.querySelector(".main-presentation"),document.querySelector(".popup-presentation"),document.querySelector("#popup-presentation_container")}if(new LazyLoad({elements_selector:".lazy"}),Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),document.querySelectorAll("form").length>0){function x(e){document.querySelector("form.submitted .form--wrapper").style.display="none",document.querySelector("form.submitted .form__status-message").style.display="block",document.querySelector("form.submitted .form__status-message--success").style.display="block",e.classList.remove("submitted"),e.reset()}function T(e){document.querySelector("form.submitted .form--wrapper").style.display="none",document.querySelector("form.submitted .form__status-message").style.display="block",document.querySelector("form.submitted .form__status-message--failure").style.display="block",e.classList.remove("submitted"),e.reset()}document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault(),grecaptcha.ready((function(){grecaptcha.execute("6LfBwiYkAAAAACEgfhBzTt8kemNJSkanHnuolBGQ",{action:"formularz"}).then((function(t){const o=new XMLHttpRequest;o.open("POST","/telegram.php");const n=document.createElement("input");n.type="hidden",n.style.display="none",n.name="g-recaptcha-response",n.value=t,e.prepend(n);const s=new FormData(e);o.send(s);const c=document.createElement("div");c.innerHTML="<div></div><div></div><div></div><div></div>",c.classList.add("lds-ellipsis"),e.insertAdjacentElement("afterbegin",c),e.classList.add("submitted"),o.addEventListener("load",(()=>{c.remove();try{const t=JSON.parse(o.response),n=t.status,s=t.spam;200==o.status&&"success"===n?(x(e),dataLayer&&"false"===s&&dataLayer.push({event:"form-submit-nospam"}),dataLayer&&"true"===s&&dataLayer.push({event:"form-submit-spam"}),console.log(typeof s,s)):T(e)}catch{T(e)}}))}))}))}))}))}document.querySelector("#frontpage")&&document.querySelector(".video-poster").addEventListener("click",(e=>{e.preventDefault(),e.target.closest(".video-container").firstElementChild.src=e.target.closest(".video-container").firstElementChild.dataset.src,e.target.closest(".video-container").lastElementChild.remove()}))})();